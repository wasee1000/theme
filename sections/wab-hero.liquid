{% schema %}
{
  "name": "web-Hero Banner",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_right",
      "label": "Padding right",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_left",
      "label": "Padding left",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "margin_top",
      "label": "Margin top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_right",
      "label": "Margin right",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "label": "Margin bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_left",
      "label": "Margin left",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 0
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Welcome to our store!"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Your hero section description goes here."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Shop now"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#111111"
    },
    {
      "type": "color",
      "id": "subheading_color",
      "label": "Subheading color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_bg_color",
      "label": "Button background color",
      "default": "#111111"
    },
    {
      "type": "range",
      "id": "heading_size",
      "label": "Heading font size",
      "min": 16,
      "max": 80,
      "step": 2,
      "unit": "px",
      "default": 40
    },
    {
      "type": "range",
      "id": "subheading_size",
      "label": "Subheading font size",
      "min": 12,
      "max": 40,
      "step": 1,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "hero_height",
      "label": "Section height",
      "min": 200,
      "max": 1000,
      "step": 10,
      "unit": "px",
      "default": 400
    },
    {
      "type": "checkbox",
      "id": "hero_full_width",
      "label": "Full width",
      "default": true
    },
    {
      "type": "range",
      "id": "hero_width",
      "label": "Section width (px)",
      "min": 300,
      "max": 2000,
      "step": 10,
      "unit": "px",
      "default": 1200
    }
  ],
  "presets": [
    {
      "name": " web-Hero Banner"
    }
  ]
}
{% endschema %}

{% stylesheet %}
.wab-hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  text-align: center;
  background-size: cover;
  background-position: center;
  transition: background 0.3s;
}
.wab-hero__heading {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 1rem;
}
.wab-hero__subheading {
  font-size: 1.25rem;
  margin-bottom: 2rem;
}
.wab-hero__button {
  padding: 0.75em 2em;
  font-size: 1rem;
  border: none;
  border-radius: 4px;
  background: var(--wab-hero-btn-bg, #111);
  color: var(--wab-hero-btn-color, #fff);
  cursor: pointer;
  text-decoration: none;
  transition: background 0.2s;
}
.wab-hero__button:hover {
  background: var(--wab-hero-btn-bg-hover, #333);
}
{% endstylesheet %}

{% assign bg_image = section.settings.background_image %}
{% assign bg_color = section.settings.background_color | default: '#f5f5f5' %}
{% assign padding_top = section.settings.padding_top | default: 40 %}
{% assign padding_right = section.settings.padding_right | default: 40 %}
{% assign padding_bottom = section.settings.padding_bottom | default: 40 %}
{% assign padding_left = section.settings.padding_left | default: 40 %}
{% assign margin_top = section.settings.margin_top | default: 0 %}
{% assign margin_right = section.settings.margin_right | default: 0 %}
{% assign margin_bottom = section.settings.margin_bottom | default: 0 %}
{% assign margin_left = section.settings.margin_left | default: 0 %}
{% assign heading = section.settings.heading %}
{% assign subheading = section.settings.subheading %}
{% assign button_label = section.settings.button_label %}
{% assign button_link = section.settings.button_link %}
{% assign heading_color = section.settings.heading_color | default: '#111111' %}
{% assign subheading_color = section.settings.subheading_color | default: '#333333' %}
{% assign button_text_color = section.settings.button_text_color | default: '#ffffff' %}
{% assign button_bg_color = section.settings.button_bg_color | default: '#111111' %}
{% assign heading_size = section.settings.heading_size | default: 40 %}
{% assign subheading_size = section.settings.subheading_size | default: 20 %}
{% assign hero_height = section.settings.hero_height | default: 400 %}
{% assign hero_full_width = section.settings.hero_full_width %}
{% assign hero_width = section.settings.hero_width | default: 1200 %}

{% assign bg_image_url = '' %}
{% if bg_image != blank %}
  {% assign bg_image_url = bg_image | image_url: width: 2000 %}
{% endif %}

{% assign style = '' %}
{%- comment -%} Always set background color as fallback {%- endcomment -%}
{% assign style = style | append: 'background-color: ' | append: bg_color | append: ';' %}
{%- comment -%} Add background image if present {%- endcomment -%}
{% if bg_image_url != blank %}
  {% assign style = style | append: 'background-image: url(' | append: bg_image_url | append: ');' %}
{% endif %}
{% assign style = style | append: 'padding: ' | append: padding_top | append: 'px ' | append: padding_right | append: 'px ' | append: padding_bottom | append: 'px ' | append: padding_left | append: 'px;' %}
{% assign style = style | append: 'margin: ' | append: margin_top | append: 'px ' | append: margin_right | append: 'px ' | append: margin_bottom | append: 'px ' | append: margin_left | append: 'px;' %}
{% assign style = style | append: 'height: ' | append: hero_height | append: 'px;' %}
{% if hero_full_width %}
  {% assign style = style | append: 'width: 100%;' %}
{% else %}
  {% assign style = style | append: 'max-width: ' | append: hero_width | append: 'px; margin-left: auto; margin-right: auto;' %}
{% endif %}

<section class="wab-hero" style="{{ style }}">
  {% if heading != blank %}
    <h1 class="wab-hero__heading" style="color: {{ heading_color }}; font-size: {{ heading_size }}px;">{{ heading }}</h1>
  {% endif %}
  {% if subheading != blank %}
    <div class="wab-hero__subheading" style="color: {{ subheading_color }}; font-size: {{ subheading_size }}px;">{{ subheading }}</div>
  {% endif %}
  {% if button_label != blank and button_link != blank %}
    <a href="{{ button_link }}" class="wab-hero__button" style="color: {{ button_text_color }}; background: {{ button_bg_color }};">{{ button_label }}</a>
  {% endif %}
</section>
