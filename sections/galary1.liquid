{%- liquid
  assign padding_top = section.settings.padding_top | append: 'px'
  assign padding_right = section.settings.padding_right | append: 'px'
  assign padding_bottom = section.settings.padding_bottom | append: 'px'
  assign padding_left = section.settings.padding_left | append: 'px'
  assign margin_top = section.settings.margin_top | append: 'px'
  assign margin_right = section.settings.margin_right | append: 'px'
  assign margin_bottom = section.settings.margin_bottom | append: 'px'
  assign margin_left = section.settings.margin_left | append: 'px'
-%}

<div class="custom-section" style="padding: {{ padding_top }} {{ padding_right }} {{ padding_bottom }} {{ padding_left }}; margin: {{ margin_top }} {{ margin_right }} {{ margin_bottom }} {{ margin_left }};">
  <div class="grid grid-cols-12 gap-4 items-stretch">

    <!-- 6-column main image -->
    <div class="col-span-12 md:col-span-6">
      {%- if section.settings.image != blank -%}
        <img src="{{ section.settings.image | img_url: 'master' }}" alt="{{ section.settings.image.alt | default: 'Main Image' }}" class="w-full h-full object-cover rounded-lg">
      {%- else -%}
        <div class="text-gray-400 text-center">No main image selected</div>
      {%- endif -%}
    </div>

    <!-- 3-column background image with text on top -->
    <div class="col-span-12 md:col-span-6 md:col-span-3">
      <div class="relative w-full h-full rounded-lg overflow-hidden min-h-[300px]">
        {%- if section.settings.uploaded_image != blank -%}
          <div
            class="absolute inset-0 bg-cover bg-center"
            style="background-image: url('{{ section.settings.uploaded_image | img_url: 'master' }}');"
          ></div>
          <div class="absolute inset-0 bg-black/40"></div>
        {%- endif -%}

        <div class="relative z-10 p-6 h-full flex flex-col justify-center text-white text-center">
          <h2 class="text-xl font-bold mb-2">{{ section.settings.heading }}</h2>
          <p class="text-sm">{{ section.settings.description }}</p>
        </div>
      </div>
    </div>

  </div>
</div>

{% schema %}
{
  "name": "6:3 Grid with Background Text",
  "settings": [
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_right",
      "label": "Padding Right",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_left",
      "label": "Padding Left",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 20
    },
    {
      "type": "range",
      "id": "margin_top",
      "label": "Margin Top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "margin_right",
      "label": "Margin Right",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "label": "Margin Bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "range",
      "id": "margin_left",
      "label": "Margin Left",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 10
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Main Image (6-column)"
    },
    {
      "type": "image_picker",
      "id": "uploaded_image",
      "label": "Background Image (3-column)"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Overlay Heading",
      "default": "Overlay Title"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Overlay Description",
      "default": "This text appears on top of the background image."
    }
  ],
  "presets": [
    {
      "name": " Grid with BG   ",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}

<style>
  .custom-section {
    background-color: #f5f5f5;
  }
</style>
